# Combines the single, _each and _all tests to check that they're compatible.

single  = load_faa "data/Mycoplasma_genitalium_single.faa"
genes10 = load_faa "data/Mycoplasma_genitalium_M2321_10genes.faa"

singles = [makeblastdb_prot single, makeblastdb_prot genes10]
each = makeblastdb_prot_each [single, genes10]
both = makeblastdb_prot_all  [single, genes10]

# should be [2, 2, 2, 1] but mainly want to evaluate them all;
# the real test is that only 3 databases should be in cache/makeblastdb
# and singles should point to the same ones as each
result = length_each [singles, each, (singles | each), [both]]
